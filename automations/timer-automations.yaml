# GENERATED FILE - DO NOT EDIT MANUALLY

- alias: shabbat_main_floor_lights
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_main_floor
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_main_floor
      state: 'on'
  action:
    - service: "switch.{{ 'turn_on' if states('input_number.shabbat_main_floor') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'turn_off' }}"
      entity_id:
        - switch.shelly_shsw_pm_766cbe
        - switch.shelly_shsw_25_68c63af91b61_1

- alias: shabbat_main_floor_windows
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_main_floor
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_main_floor
      state: 'on'
  action:
    - service: "cover.{{ 'open_cover' if states('input_number.shabbat_main_floor') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'close_cover' }}"
      entity_id:
        - cover.shelly_shsw_25_b92fd1
        - cover.shelly_shsw_25_68c63af981be

- alias: shabbat_hot_plate
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_main_floor
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_main_floor
      state: 'on'
  action:
    - service: "switch.{{ 'turn_on' if states('input_number.shabbat_hot_plate') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'turn_off' }}"
      entity_id:
        - switch.shelly_shsw_1_e09806958318

- alias: shabbat_master_bedroom_lights
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_master_bedroom
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_master_bedroom
      state: 'on'
  action:
    - service: "switch.{{ 'turn_on' if states('input_number.shabbat_master_bedroom_lights') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'turn_off' }}"
      entity_id:
        - switch.shelly_shsw_pm_766477

- alias: shabbat_master_bedroom_ac
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_master_bedroom
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_master_bedroom
      state: 'on'
  action:
    - service: "switch.{{ 'turn_on' if states('input_number.shabbat_master_bedroom_ac') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'turn_off' }}"
      entity_id:
        - switch.shelly_shsw_1_e098069513b6

- alias: shabbat_reut_ac
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_reut
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_reut
      state: 'on'
  action:
    - service: "switch.{{ 'turn_on' if states('input_number.shabbat_reut_ac') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'turn_off' }}"
      entity_id:
        - switch.shelly_shsw_1_68c63afa10ab

- alias: shabbat_shaked_ac
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_shaked
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_shaked
      state: 'on'
  action:
    - service: "switch.{{ 'turn_on' if states('input_number.shabbat_shaked_ac') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'turn_off' }}"
      entity_id:
        - switch.shelly_shsw_1_68c63afa64e2

- alias: shabbat_roei_ac
  trigger:
    - platform: time_pattern
      minutes: /30
    - platform: state
      entity_id: group.shabbat_timers_in_effect_roei
  condition:
    - condition: state
      entity_id: group.shabbat_timers_in_effect_roei
      state: 'on'
  action:
    - service: "switch.{{ 'turn_on' if states('input_number.shabbat_roei_ac') | int | bitwise_and(2 ** ((now().hour * 2) + (now().minute // 30))) > 0 else 'turn_off' }}"
      entity_id:
        - switch.shelly_shsw_1_e098069585b6

